<?xml version="1.0" encoding="utf-8"?>
<openerp>
    <data>
		<!-- Class Course -->
    	<record id="view_elearning_course_form" model="ir.ui.view">
            <field name="name">cv_clearcorp.course.form</field>
            <field name="model">cv_clearcorp.course</field>
            <field name="arch" type="xml">
                <form string="Course">
                	<label for="code" class="oe_edit_only" string="Course code and name:"/>
                	<h1>
	                    [<field name="code" class="oe_inline" style="width: 6em"/>] 
	                	<field name="name" class="oe_inline"/>
                	</h1>
                	<group col="4">
                		<group col="2" colspan="2">
	                		<field name="teacher_id"/>
	                	</group>
                		<group col="2" colspan="2">
	                		<field name="total_seats"/>
	                		<field name="available_seats"/>
	                		<field name="occupied_seats"/>
	                		<field name="occupation_percentage" widget="progressbar"/>
	                	</group>
                	</group>
                	<notebook>
                		<page string="Sessions">
		                    <field name="session_ids" nolabel="1"/>
                		</page>
                		<page string="Students">
		                    <field name="student_ids" nolabel="1"/>
                		</page>
                		<page string="Description">
		                    <field name="description" nolabel="1"/>
                		</page>
                	</notebook>
                </form>
            </field>
        </record>
        <record id="view_elearning_course_tree" model="ir.ui.view">
            <field name="name">cv_clearcorp.course.tree</field>
            <field name="model">cv_clearcorp.course</field>
            <field name="arch" type="xml">
                <tree string="Courses">
                    <field name="code"/>
                    <field name="name"/>
                    <field name="total_seats"/>
                    <field name="available_seats"/>
	                <field name="occupation_percentage" widget="progressbar"/>
                </tree>
            </field>
        </record>
    	<record id="action_elearning_courses" model="ir.actions.act_window">
            <field name="name">Courses</field>
            <field name="res_model">cv_clearcorp.course</field>
            <field name="view_type">form</field>
            <field name="view_mode">tree,form</field>
            <field name="help" type="html">
              <p class="oe_view_nocontent_create">
                Click to create a new course.
              </p><p>
                Set your courses here.
              </p>
            </field>
        </record>
    	<record id="action_elearning_my_courses" model="ir.actions.act_window">
            <field name="name">My Courses</field>
            <field name="res_model">cv_clearcorp.course</field>
            <field name="view_type">form</field>
            <field name="view_mode">tree,form</field>
            <field name="domain">[('teacher_id','=',uid)]</field>
            <field name="help" type="html">
              <p class="oe_view_nocontent_create">
                Click to create a new course.
              </p><p>
                Set your courses here.
              </p>
            </field>
        </record>

		<!-- Class Student -->
		<record id="view_res_partner_form_student" model="ir.ui.view">
            <field name="name">res_partner.form.student</field>
            <field name="model">res.partner</field>
            <field name="inherit_id" ref="base.view_partner_form"/>
            <field name="arch" type="xml">
            	<data>
	            	<xpath expr="//page[@name='sales_purchases']/group/group/field[@name='supplier']" position="after">
	            		<field name="student"/>
	            	</xpath>
	            	<page name="sales_purchases" position="after">
	            		<page name="elearning" string="eLearning">
	            			<group col="6">
	            				<group colspan="2">
	            					<field name="student_code"/>
	            				</group>
	            			</group>
	            			<label for="course_ids"/>
	            			<field name="course_ids">
	            				<tree>
	            					<field name="code"/>
	            					<field name="name"/>
	            				</tree>
	            			</field>
	            		</page>
	            	</page>
	            	<xpath expr="/form/sheet/group/group/field[@name='title']" position="after">
	            		<field name="birthday"/>
	            	</xpath>
            	</data>
            </field>
        </record>
    	<record id="action_elearning_student" model="ir.actions.act_window">
            <field name="name">Students</field>
            <field name="res_model">res.partner</field>
            <field name="view_type">form</field>
            <field name="view_mode">tree,form</field>
            <field name="domain">[('student','=',1)]</field>
            <field name="help" type="html">
              <p class="oe_view_nocontent_create">
                Click to register a new student.
              </p>
            </field>
        </record>
    	<record id="action_elearning_my_students" model="ir.actions.act_window">
            <field name="name">My Students</field>
            <field name="res_model">res.partner</field>
            <field name="view_type">form</field>
            <field name="view_mode">tree,form</field>
            <field name="domain">['&amp;',('student','=',1),('course_ids.teacher_id','=',uid)]</field>
            <field name="help" type="html">
              <p class="oe_view_nocontent_create">
                Click to register a new student.
              </p>
            </field>
        </record>

		<!-- Class CourseSession -->
    	<record id="view_elearning_course_session_form" model="ir.ui.view">
            <field name="name">cv_clearcorp.course.session.form</field>
            <field name="model">cv_clearcorp.course.session</field>
            <field name="arch" type="xml">
                <form string="Sessions">
                	<label for="subject" class="oe_edit_only" string="Session subject:"/>
                	<h1>
	                    <field name="subject" class="oe_inline"/>
                	</h1>
                	<group col="4">
	                	<group col="2" colspan="2">
		                	<field name="course_id"/>
	                	</group>
	                	<group col="2">
		                	<field name="start_time"/>
		                	<field name="end_time"/>
	                	</group>
	                </group>
                </form>
            </field>
        </record>
        <record id="view_elearning_course_session_tree" model="ir.ui.view">
            <field name="name">cv_clearcorp.course.session.tree</field>
            <field name="model">cv_clearcorp.course.session</field>
            <field name="arch" type="xml">
                <tree string="Sessions">
                	<field name="course_id"/>
                    <field name="subject"/>
                    <field name="start_time"/>
                    <field name="end_time"/>
                </tree>
            </field>
        </record>
    	<record id="action_elearning_session" model="ir.actions.act_window">
            <field name="name">Sessions</field>
            <field name="res_model">cv_clearcorp.course.session</field>
            <field name="view_type">form</field>
            <field name="view_mode">tree,form</field>
            <field name="help" type="html">
              <p class="oe_view_nocontent_create">
                Click to create a new session.
              </p><p>
                Set your sessions here.
              </p>
            </field>
        </record>
    </data>
</openerp>
